var kr={},vi=(pi,rt,fi)=>(kr.__chunk_8248=(Pi,Ir,oe)=>{"use strict";oe.d(Ir,{A:()=>mi});var Ge={};oe.r(Ge),oe.d(Ge,{StripeAPIError:()=>pt,StripeAuthenticationError:()=>ft,StripeCardError:()=>zt,StripeConnectionError:()=>Bt,StripeError:()=>G,StripeIdempotencyError:()=>Vt,StripeInvalidGrantError:()=>Kt,StripeInvalidRequestError:()=>mt,StripePermissionError:()=>$t,StripeRateLimitError:()=>Pt,StripeSignatureVerificationError:()=>j,StripeUnknownError:()=>Wt,TemporarySessionExpiredError:()=>Jt,generateV1Error:()=>ke,generateV2Error:()=>Ft});var K={};oe.r(K),oe.d(K,{Account:()=>Pr,AccountLinks:()=>Lo,AccountSessions:()=>Ho,Accounts:()=>Pr,ApplePayDomains:()=>Fo,ApplicationFees:()=>zo,Apps:()=>Ka,Balance:()=>Bo,BalanceSettings:()=>Vo,BalanceTransactions:()=>Ko,Billing:()=>Wa,BillingPortal:()=>Ja,Charges:()=>Wo,Checkout:()=>Xa,Climate:()=>Ya,ConfirmationTokens:()=>Xo,CountrySpecs:()=>Yo,Coupons:()=>Qo,CreditNotes:()=>Zo,CustomerSessions:()=>ta,Customers:()=>ra,Disputes:()=>sa,Entitlements:()=>Qa,EphemeralKeys:()=>oa,Events:()=>aa,ExchangeRates:()=>ia,FileLinks:()=>na,Files:()=>ha,FinancialConnections:()=>Za,Forwarding:()=>ei,Identity:()=>ti,InvoiceItems:()=>da,InvoicePayments:()=>ua,InvoiceRenderingTemplates:()=>ca,Invoices:()=>ma,Issuing:()=>ri,Mandates:()=>fa,OAuth:()=>Pa,PaymentAttemptRecords:()=>va,PaymentIntents:()=>Ta,PaymentLinks:()=>_a,PaymentMethodConfigurations:()=>ya,PaymentMethodDomains:()=>ga,PaymentMethods:()=>Ea,PaymentRecords:()=>Sa,Payouts:()=>Oa,Plans:()=>ba,Prices:()=>xa,Products:()=>wa,PromotionCodes:()=>Ga,Quotes:()=>Ca,Radar:()=>si,Refunds:()=>Aa,Reporting:()=>oi,Reviews:()=>Ra,SetupAttempts:()=>Ia,SetupIntents:()=>qa,ShippingRates:()=>Da,Sigma:()=>ai,Sources:()=>Na,SubscriptionItems:()=>ja,SubscriptionSchedules:()=>Ma,Subscriptions:()=>La,Tax:()=>ii,TaxCodes:()=>Ua,TaxIds:()=>Ha,TaxRates:()=>Fa,Terminal:()=>ni,TestHelpers:()=>li,Tokens:()=>za,Topups:()=>$a,Transfers:()=>Ba,Treasury:()=>hi,V2:()=>di,WebhookEndpoints:()=>Va});let st=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function Dt(s){return s&&typeof s=="object"&&st.some(e=>Object.prototype.hasOwnProperty.call(s,e))}function Nt(s){return encodeURIComponent(s).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/%5B/g,"[").replace(/%5D/g,"]")}function Ce(s){let e=[];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))(function r(a,i){if(i!==void 0){if(i===null||typeof i!="object"||i instanceof Date){e.push(Nt(a)+"="+Nt(i instanceof Date?Math.floor(i.getTime()/1e3).toString():i===null?"":String(i)));return}if(Array.isArray(i)){for(let n=0;n<i.length;n++)i[n]!==void 0&&r(a+"["+n+"]",i[n]);return}for(let n of Object.keys(i))r(a+"["+n+"]",i[n])}})(o,s[o]);return e.join("&")}let ot=(()=>{let s={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let o=e.replace(/["\n\r\u2028\u2029]/g,r=>s[r]);return r=>o.replace(/\{([\s\S]+?)\}/g,(a,i)=>{let n=r[i];return["number","string","boolean"].includes(typeof n)?encodeURIComponent(n):""})}})();function at(s){if(!Array.isArray(s)||!s[0]||typeof s[0]!="object")return{};if(!Dt(s[0]))return s.shift();let e=Object.keys(s[0]),o=e.filter(r=>st.includes(r));return o.length>0&&o.length!==e.length&&Ae(`Options found in arguments (${o.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function jt(s){let e={host:null,headers:{},settings:{},streaming:!1};if(s.length>0){let o=s[s.length-1];if(typeof o=="string")e.authenticator=ht(s.pop());else if(Dt(o)){let r=Object.assign({},s.pop()),a=Object.keys(r).filter(i=>!st.includes(i));if(a.length&&Ae(`Invalid options found (${a.join(", ")}); ignoring.`),r.apiKey&&(e.authenticator=ht(r.apiKey)),r.idempotencyKey&&(e.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(e.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(e.headers["Stripe-Account"])throw Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(e.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(e.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(e.settings.timeout=r.timeout),r.host&&(e.host=r.host),r.authenticator){if(r.apiKey)throw Error("Can't specify both apiKey and authenticator.");if(typeof r.authenticator!="function")throw Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=r.authenticator}r.additionalHeaders&&(e.headers=r.additionalHeaders),r.streaming&&(e.streaming=!0)}}return e}function it(s){if(typeof s!="object")throw Error("Argument must be an object");return Object.keys(s).reduce((e,o)=>(s[o]!=null&&(e[o]=s[o]),e),{})}function nt(s,e){return e?s.then(o=>{setTimeout(()=>{e(null,o)},0)},o=>{setTimeout(()=>{e(o,null)},0)}):s}function Ae(s){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${s}`):process.emitWarning(s,"Stripe")}function lt(s,e,o){if(!Number.isInteger(e)){if(o!==void 0)return o;throw Error(`${s} must be an integer`)}return e}function ht(s){let e=o=>(o.headers.Authorization="Bearer "+s,Promise.resolve());return e._apiKey=s,e}function qr(s,e){return this[s]instanceof Date?Math.floor(this[s].getTime()/1e3).toString():e}function Mt(s){return s&&s.startsWith("/v2")?"v2":"v1"}function dt(s){return Array.isArray(s)?s.join(", "):String(s)}class A{getClientName(){throw Error("getClientName not implemented.")}makeRequest(e,o,r,a,i,n,h,d){throw Error("makeRequest not implemented.")}static makeTimeoutError(){let e=TypeError(A.TIMEOUT_ERROR_CODE);return e.code=A.TIMEOUT_ERROR_CODE,e}}A.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],A.TIMEOUT_ERROR_CODE="ETIMEDOUT";class Lt{constructor(e,o){this._statusCode=e,this._headers=o}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw Error("getRawResponse not implemented.")}toStream(e){throw Error("toStream not implemented.")}toJSON(){throw Error("toJSON not implemented.")}}class Re extends A{constructor(e){if(super(),!e){if(!rt.fetch)throw Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=rt.fetch}rt.AbortController?this._fetchFn=Re.makeFetchWithAbortTimeout(e):this._fetchFn=Re.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(o,r,a)=>{let i,n=new Promise((h,d)=>{i=setTimeout(()=>{i=null,d(A.makeTimeoutError())},a)});return Promise.race([e(o,r),n]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(e){return async(o,r,a)=>{let i=new AbortController,n=setTimeout(()=>{n=null,i.abort(A.makeTimeoutError())},a);try{return await e(o,Object.assign(Object.assign({},r),{signal:i.signal}))}catch(h){throw h.name==="AbortError"?A.makeTimeoutError():h}finally{n&&clearTimeout(n)}}}getClientName(){return"fetch"}async makeRequest(e,o,r,a,i,n,h,d){let m=new URL(r,`${h==="http"?"http":"https"}://${e}`);m.port=o;let u=a=="POST"||a=="PUT"||a=="PATCH";return new ut(await this._fetchFn(m.toString(),{method:a,headers:Object.entries(i).map(([p,l])=>[p,dt(l)]),body:n||(u?"":void 0)},d))}}class ut extends Lt{constructor(e){super(e.status,ut._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let o={};for(let r of e){if(!Array.isArray(r)||r.length!=2)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");o[r[0]]=r[1]}return o}}class Ut{computeHMACSignature(e,o){throw Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,o){throw Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw Error("computeSHA256 not implemented.")}}class Ht extends Error{}class Dr extends Ut{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,o){throw new Ht("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,o){let r=new TextEncoder,a=await this.subtleCrypto.importKey("raw",r.encode(o),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=new Uint8Array(await this.subtleCrypto.sign("hmac",a,r.encode(e))),n=Array(i.length);for(let h=0;h<i.length;h++)n[h]=ct[i[h]];return n.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}let ct=Array(256);for(let s=0;s<ct.length;s++)ct[s]=s.toString(16).padStart(2,"0");class Nr{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let o=16*Math.random()|0;return(e==="x"?o:3&o|8).toString(16)})}secureCompare(e,o){if(e.length!==o.length)return!1;let r=e.length,a=0;for(let i=0;i<r;++i)a|=e.charCodeAt(i)^o.charCodeAt(i);return a===0}createEmitter(){throw Error("createEmitter not implemented.")}tryBufferData(e){throw Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new Re(e)}createDefaultHttpClient(){throw Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new Dr(e)}createDefaultCryptoProvider(){throw Error("createDefaultCryptoProvider not implemented.")}}class jr extends Event{constructor(e,o){super(e),this.data=o}}class Mr{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,o){let r=a=>{o(a.data)};return this.listenerMapping.set(o,r),this.eventTarget.addEventListener(e,r)}removeListener(e,o){let r=this.listenerMapping.get(o);return this.listenerMapping.delete(o),this.eventTarget.removeEventListener(e,r)}once(e,o){let r=a=>{o(a.data)};return this.listenerMapping.set(o,r),this.eventTarget.addEventListener(e,r,{once:!0})}emit(e,o){return this.eventTarget.dispatchEvent(new jr(e,o))}}class Lr extends Nr{getUname(){return Promise.resolve(null)}createEmitter(){return new Mr}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}let ke=s=>{switch(s.type){case"card_error":return new zt(s);case"invalid_request_error":return new mt(s);case"api_error":return new pt(s);case"authentication_error":return new ft(s);case"rate_limit_error":return new Pt(s);case"idempotency_error":return new Vt(s);case"invalid_grant":return new Kt(s);default:return new Wt(s)}},Ft=s=>s.type==="temporary_session_expired"?new Jt(s):s.code==="invalid_fields"?new mt(s):ke(s);class G extends Error{constructor(e={},o=null){var r;super(e.message),this.type=o||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=(r=e.message)!==null&&r!==void 0?r:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}G.generate=ke;class zt extends G{constructor(e={}){super(e,"StripeCardError")}}class mt extends G{constructor(e={}){super(e,"StripeInvalidRequestError")}}class pt extends G{constructor(e={}){super(e,"StripeAPIError")}}class ft extends G{constructor(e={}){super(e,"StripeAuthenticationError")}}class $t extends G{constructor(e={}){super(e,"StripePermissionError")}}class Pt extends G{constructor(e={}){super(e,"StripeRateLimitError")}}class Bt extends G{constructor(e={}){super(e,"StripeConnectionError")}}class j extends G{constructor(e,o,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=o}}class Vt extends G{constructor(e={}){super(e,"StripeIdempotencyError")}}class Kt extends G{constructor(e={}){super(e,"StripeInvalidGrantError")}}class Wt extends G{constructor(e={}){super(e,"StripeUnknownError")}}class Jt extends G{constructor(e={}){super(e,"TemporarySessionExpiredError")}}class ae{constructor(e,o){this._stripe=e,this._maxBufferedRequestMetric=o}_normalizeStripeContext(e,o){return e?e.toString()||null:o?.toString()||null}_addHeadersDirectlyToObject(e,o){e.requestId=o["request-id"],e.stripeAccount=e.stripeAccount||o["stripe-account"],e.apiVersion=e.apiVersion||o["stripe-version"],e.idempotencyKey=e.idempotencyKey||o["idempotency-key"]}_makeResponseEvent(e,o,r){let a=Date.now(),i=a-e.request_start_time;return it({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:o,request_id:this._getRequestId(r),elapsed:i,request_start_time:e.request_start_time,request_end_time:a})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,o,r){return a=>{let i=a.getHeaders(),n=a.toStream(()=>{let h=this._makeResponseEvent(e,a.getStatusCode(),i);this._stripe._emitter.emit("response",h),this._recordRequestMetrics(this._getRequestId(i),h.elapsed,o)});return this._addHeadersDirectlyToObject(n,i),r(null,n)}}_jsonResponseHandler(e,o,r,a){return i=>{let n=i.getHeaders(),h=this._getRequestId(n),d=i.getStatusCode(),m=this._makeResponseEvent(e,d,n);this._stripe._emitter.emit("response",m),i.toJSON().then(u=>{if(u.error)throw typeof u.error=="string"&&(u.error={type:u.error,message:u.error_description}),u.error.headers=n,u.error.statusCode=d,u.error.requestId=h,d===401?new ft(u.error):d===403?new $t(u.error):d===429?new Pt(u.error):o==="v2"?Ft(u.error):ke(u.error);return u},u=>{throw new pt({message:"Invalid JSON received from the Stripe API",exception:u,requestId:n["request-id"]})}).then(u=>{this._recordRequestMetrics(h,m.elapsed,r);let p=i.getRawResponse();this._addHeadersDirectlyToObject(p,n),Object.defineProperty(u,"lastResponse",{enumerable:!1,writable:!1,value:p}),a(null,u)},u=>a(u,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,o,r,a){return!!(a&&o===0&&A.CONNECTION_CLOSED_ERROR_CODES.includes(a.code))||!(o>=r)&&(!e||e.getHeaders()["stripe-should-retry"]!=="false"&&(e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500))}_getSleepTimeInMS(e,o=null){let r=this._stripe.getInitialNetworkRetryDelay(),a=Math.min(r*Math.pow(2,e-1),this._stripe.getMaxNetworkRetryDelay());return a*=.5*(1+Math.random()),a=Math.max(r,a),Number.isInteger(o)&&o<=60&&(a=Math.max(a,o)),1e3*a}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,o,r){let a=this._getMaxNetworkRetries(o),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(r==="v2"){if(e==="POST"||e==="DELETE")return i()}else if(r==="v1"&&e==="POST"&&a>0)return i();return null}_makeHeaders({contentType:e,contentLength:o,apiVersion:r,clientUserAgent:a,method:i,userSuppliedHeaders:n,userSuppliedSettings:h,stripeAccount:d,stripeContext:m,apiMode:u}){let p={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(u),"X-Stripe-Client-User-Agent":a,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":d,"Stripe-Context":m,"Idempotency-Key":this._defaultIdempotencyKey(i,h,u)},l=i=="POST"||i=="PUT"||i=="PATCH";return(l||o)&&(l||Ae(`${i} method had non-zero contentLength but no payload is expected for this verb`),p["Content-Length"]=o),Object.assign(it(p),n&&typeof n=="object"?Object.keys(n).reduce((c,P)=>(c[P.split("-").map(E=>E.charAt(0).toUpperCase()+E.substr(1).toLowerCase()).join("-")]=n[P],c),{}):n)}_getUserAgentString(e){let o=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${o} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0)return JSON.stringify({last_request_metrics:this._stripe._prevRequestMetrics.shift()})}_recordRequestMetrics(e,o,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)Ae("Request metrics buffer is full, dropping telemetry message.");else{let a={request_id:e,request_duration_ms:o};r&&r.length>0&&(a.usage=r),this._stripe._prevRequestMetrics.push(a)}}_rawRequest(e,o,r,a,i){return new Promise((n,h)=>{let d;try{let l=e.toUpperCase();if(l!=="POST"&&r&&Object.keys(r).length!==0)throw Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let c=[].slice.call([r,a]),P=at(c),E=l==="POST"?Object.assign({},P):null,f=jt(c),v=f.headers,_=f.authenticator;d={requestMethod:l,requestPath:o,bodyData:E,queryData:{},authenticator:_,headers:v,host:f.host,streaming:!!f.streaming,settings:{},usage:i||["raw_request"]}}catch(l){h(l);return}let{headers:m,settings:u}=d,p=d.authenticator;this._request(d.requestMethod,d.host,o,d.bodyData,p,{headers:m,settings:u,streaming:d.streaming},d.usage,function(l,c){l?h(l):n(c)})})}_getContentLength(e){return typeof e=="string"?new TextEncoder().encode(e).length:e.length}_request(e,o,r,a,i,n,h=[],d,m=null){var u;let p;i=(u=i??this._stripe._authenticator)!==null&&u!==void 0?u:null;let l=Mt(r),c=(f,v,_,y,T)=>setTimeout(f,this._getSleepTimeInMS(y,T),v,_,y+1),P=(f,v,_)=>{let y=n.settings&&n.settings.timeout&&Number.isInteger(n.settings.timeout)&&n.settings.timeout>=0?n.settings.timeout:this._stripe.getApiField("timeout"),T={host:o||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},v),body:p,protocol:this._stripe.getApiField("protocol")};i(T).then(()=>{let x=this._stripe.getApiField("httpClient").makeRequest(T.host,T.port,T.path,T.method,T.headers,T.body,T.protocol,y),b=Date.now(),k=it({api_version:f,account:dt(v["Stripe-Account"]),idempotency_key:dt(v["Idempotency-Key"]),method:e,path:r,request_start_time:b}),we=_||0,Rr=this._getMaxNetworkRetries(n.settings||{});this._stripe._emitter.emit("request",k),x.then(D=>{if(ae._shouldRetry(D,we,Rr)){var qt;return c(P,f,v,we,Number(Array.isArray(qt=D.getHeaders()["retry-after"])?qt[0]:qt))}return n.streaming&&400>D.getStatusCode()?this._streamingResponseHandler(k,h,d)(D):this._jsonResponseHandler(k,l,h,d)(D)}).catch(D=>ae._shouldRetry(null,we,Rr,D)?c(P,f,v,we,null):d(new Bt({message:D.code&&D.code===A.TIMEOUT_ERROR_CODE?`Request aborted due to timeout being reached (${y}ms)`:ae._generateConnectionErrorMessage(we),detail:D})))}).catch(x=>{throw new G({message:"Unable to authenticate the request",exception:x})})},E=(f,v)=>{if(f)return d(f);p=v,this._stripe.getClientUserAgent(_=>{var y,T,x;let b=this._stripe.getApiField("version"),k=this._makeHeaders({contentType:l=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:this._getContentLength(v),apiVersion:b,clientUserAgent:_,method:e,userSuppliedHeaders:(y=n.headers)!==null&&y!==void 0?y:null,userSuppliedSettings:(T=n.settings)!==null&&T!==void 0?T:{},stripeAccount:(x=n.stripeAccount)!==null&&x!==void 0?x:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(n.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:l});P(b,k,0)})};if(m)m(e,a,n.headers,E);else{let f;E(null,l=="v2"?a?JSON.stringify(a,qr):"":Ce(a||{}))}}}class Xt{constructor(e,o,r,a){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=o,this.spec=r,this.stripeResource=a}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let o=Yt(this.requestArgs);if(this.index<e.data.length){let r=o?e.data.length-1-this.index:this.index,a=e.data[r];return this.index+=1,{value:a,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let r=await this.pagePromise;return this.iterate(r)}return{done:!0,value:void 0}}getNextPage(e){throw Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let o=await this._next();return this.promiseCache.currentPromise=null,o})();return this.promiseCache.currentPromise=e,e}}class Ur extends Xt{getNextPage(e){let o=Yt(this.requestArgs),r=function(a,i){let n=i?0:a.data.length-1,h=a.data[n],d=h&&h.id;if(!d)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return d}(e,o);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[o?"ending_before":"starting_after"]:r})}}class Hr extends Xt{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class Fr{constructor(e,o,r,a){this.firstPagePromise=e,this.currentPageIterator=null,this.nextPageUrl=null,this.requestArgs=o,this.spec=r,this.stripeResource=a}async initFirstPage(){if(this.firstPagePromise){let e=await this.firstPagePromise;this.firstPagePromise=null,this.currentPageIterator=e.data[Symbol.iterator](),this.nextPageUrl=e.next_page_url||null}}async turnPage(){if(!this.nextPageUrl)return null;this.spec.fullPath=this.nextPageUrl;let e=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=e.next_page_url||null,this.currentPageIterator=e.data[Symbol.iterator](),this.currentPageIterator}async next(){if(await this.initFirstPage(),this.currentPageIterator){let r=this.currentPageIterator.next();if(!r.done)return{done:!1,value:r.value}}let e=await this.turnPage();if(!e)return{done:!0,value:void 0};let o=e.next();return o.done?{done:!0,value:void 0}:{done:!1,value:o.value}}}let zr=(s,e,o,r)=>{let a=Mt(o.fullPath||o.path);return a!=="v2"&&o.methodType==="search"?vt(new Hr(r,e,o,s)):a!=="v2"&&o.methodType==="list"?vt(new Ur(r,e,o,s)):a==="v2"&&o.methodType==="list"?vt(new Fr(r,e,o,s)):null},vt=s=>{var e;let o=(e=(...a)=>s.next(...a),function(){let a=[].slice.call(arguments),i=function(h){if(h.length===0)return;let d=h[0];if(typeof d!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof d}`);if(d.length===2)return d;if(d.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${d}`);return function(m,u){u(d(m))}}(a),n=function(h){if(h.length<2)return null;let d=h[1];if(typeof d!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof d}`);return d}(a);if(a.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${a}`);return nt(new Promise((h,d)=>{e().then(function m(u){if(u.done){h();return}let p=u.value;return new Promise(l=>{i(p,l)}).then(l=>l===!1?m({done:!0,value:void 0}):e().then(m))}).catch(d)}),n)}),r={autoPagingEach:o,autoPagingToArray:function(a,i){let n=a&&a.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return nt(new Promise((h,d)=>{let m=[];o(u=>{if(m.push(u),m.length>=n)return!1}).then(()=>{h(m)}).catch(d)}),i)},next:()=>s.next(),return:()=>({}),[typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"]:()=>r};return r};function Yt(s){return!!at([].slice.call(s)).ending_before}function t(s,e){if(this._stripe=s,e)throw Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=ot(this.basePath||s.getApiField("basePath")),this.resourcePath=this.path,this.path=ot(this.path),this.initialize(...arguments)}t.extend=function(s){let e=this,o=Object.prototype.hasOwnProperty.call(s,"constructor")?s.constructor:function(...r){e.apply(this,r)};return Object.assign(o,e),o.prototype=Object.create(e.prototype),Object.assign(o.prototype,s),o},t.method=function(s){if(s.path!==void 0&&s.fullPath!==void 0)throw Error(`Method spec specified both a 'path' (${s.path}) and a 'fullPath' (${s.fullPath}).`);return function(...e){let o=typeof e[e.length-1]=="function"&&e.pop();s.urlParams=function(a){let i=a.match(/\{\w+\}/g);return i?i.map(n=>n.replace(/[{}]/g,"")):[]}(s.fullPath||this.createResourcePathWithSymbols(s.path||""));let r=nt(this._makeRequest(e,s,{}),o);return Object.assign(r,zr(this,e,s,r)),r}},t.MAX_BUFFERED_REQUEST_METRICS=100,t.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(s,e){let o=[this.basePath(e),this.path(e)];if(typeof s=="function"){let r=s(e);r&&o.push(r)}else o.push(s);return this._joinUrlParts(o)},createResourcePathWithSymbols(s){return s?`/${this._joinUrlParts([this.resourcePath,s])}`:`/${this.resourcePath}`},_joinUrlParts:s=>s.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(s,e,o){var r;let a=(e.method||"GET").toUpperCase(),i=e.usage||[],n=e.urlParams||[],h=e.encode||(T=>T),d=!!e.fullPath,m=ot(d?e.fullPath:e.path||""),u=d?e.fullPath:this.createResourcePathWithSymbols(e.path),p=[].slice.call(s),l=n.reduce((T,x)=>{let b=p.shift();if(typeof b!="string")throw Error(`Stripe: Argument "${x}" must be a string, but got: ${b} (on API request to \`${a} ${u}\`)`);return T[x]=b,T},{}),c=h(Object.assign({},at(p),o)),P=jt(p),E=P.host||e.host,f=!!e.streaming||!!P.streaming;if(p.filter(T=>T!=null).length)throw Error(`Stripe: Unknown arguments (${p}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${a} \`${u}\`)`);let v=d?m(l):this.createFullPath(m,l),_=Object.assign(P.headers,e.headers);e.validator&&e.validator(c,{headers:_});let y=e.method==="GET"||e.method==="DELETE";return{requestMethod:a,requestPath:v,bodyData:y?null:c,queryData:y?c:{},authenticator:(r=P.authenticator)!==null&&r!==void 0?r:null,headers:_,host:E??null,streaming:f,settings:P.settings,usage:i}},_makeRequest(s,e,o){return new Promise((r,a)=>{var i;let n;try{n=this._getRequestOpts(s,e,o)}catch(p){a(p);return}let h=Object.keys(n.queryData).length===0,d=[n.requestPath,h?"":"?",Ce(n.queryData)].join(""),{headers:m,settings:u}=n;this._stripe._requestSender._request(n.requestMethod,n.host,d,n.bodyData,n.authenticator,{headers:m,settings:u,streaming:n.streaming},n.usage,function(p,l){p?a(p):r(e.transformResponseData?e.transformResponseData(l):l)},(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};class W{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw Error("Segment cannot be null or undefined");return new W([...this._segments,e])}pop(){if(this._segments.length===0)throw Error("Cannot pop from an empty context");return new W(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return new W(e?e.split("/"):[])}}let Tt="2026-01-28.clover";function $r(s,e){for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;let r=o[0].toLowerCase()+o.substring(1),a=new e[o](s);this[r]=a}}function S(s,e){return function(o){return new $r(o,e)}}let Br=t.method,Vr=t.extend({create:Br({method:"POST",fullPath:"/v2/core/account_links"})}),Qt=t.method,Kr=t.extend({create:Qt({method:"POST",fullPath:"/v2/core/account_tokens"}),retrieve:Qt({method:"GET",fullPath:"/v2/core/account_tokens/{id}"})}),F=t.method,Wr=t.extend({retrieve:F({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:F({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:F({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:F({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:F({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:F({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:F({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),ie=t.method,Jr=t.extend({create:ie({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons"}),retrieve:ie({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),update:ie({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),list:ie({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons",methodType:"list"}),del:ie({method:"DELETE",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"})}),Zt=t.method,Xr=t.extend({create:Zt({method:"POST",fullPath:"/v2/core/accounts/{account_id}/person_tokens"}),retrieve:Zt({method:"GET",fullPath:"/v2/core/accounts/{account_id}/person_tokens/{id}"})}),ne=t.method,Yr=t.extend({constructor:function(...s){t.apply(this,s),this.persons=new Jr(...s),this.personTokens=new Xr(...s)},create:ne({method:"POST",fullPath:"/v2/core/accounts"}),retrieve:ne({method:"GET",fullPath:"/v2/core/accounts/{id}"}),update:ne({method:"POST",fullPath:"/v2/core/accounts/{id}"}),list:ne({method:"GET",fullPath:"/v2/core/accounts",methodType:"list"}),close:ne({method:"POST",fullPath:"/v2/core/accounts/{id}/close"})}),er=t.method,Qr=t.extend({retrieve:er({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:er({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),J=t.method,Zr=t.extend({create:J({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:J({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:J({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:J({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:J({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:J({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),es=t.method,ts=t.extend({find:es({method:"GET",fullPath:"/v1/tax/associations/find"})}),le=t.method,rs=t.extend({retrieve:le({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:le({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:le({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:le({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:le({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),z=t.method,ss=t.extend({create:z({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:z({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:z({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:z({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:z({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:z({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:z({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),_t=t.method,os=t.extend({create:_t({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:_t({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:_t({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),Ie=t.method,as=t.extend({create:Ie({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Ie({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Ie({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Ie({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),qe=t.method,is=t.extend({create:qe({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:qe({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:qe({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:qe({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),he=t.method,ns=t.extend({deliverCard:he({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:he({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:he({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:he({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:he({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),De=t.method,ls=t.extend({create:De({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:De({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:De({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:De({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),de=t.method,hs=t.extend({create:de({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:de({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:de({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:de({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:de({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),ds=t.method,us=t.extend({create:ds({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),cs=t.method,ms=t.extend({create:cs({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),ps=t.method,fs=t.extend({retrieve:ps({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),tr=t.method,Ps=t.extend({retrieve:tr({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:tr({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),X=t.method,vs=t.extend({create:X({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:X({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:X({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:X({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:X({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:X({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),yt=t.method,Ts=t.extend({create:yt({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:yt({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:yt({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),_s=t.method,ys=t.extend({fundCashBalance:_s({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),gt=t.method,gs=t.extend({create:gt({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:gt({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:gt({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),ue=t.method,Es=t.extend({create:ue({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:ue({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:ue({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:ue({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:ue({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),rr=t.method,Ss=t.extend({retrieve:rr({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:rr({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),M=t.method,Os=t.extend({create:M({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:M({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:M({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:M({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:M({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:M({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:M({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:M({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),Et=t.method,bs=t.extend({retrieve(...s){return Et({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:e=>this.addFetchRelatedObjectIfNeeded(e)}).apply(this,s)},list(...s){return Et({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:e=>Object.assign(Object.assign({},e),{data:e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,s)},addFetchRelatedObjectIfNeeded(s){return s.related_object&&s.related_object.url?Object.assign(Object.assign({},s),{fetchRelatedObject:()=>Et({method:"GET",fullPath:s.related_object.url}).apply(this,[{stripeContext:s.context}])}):s}}),Ne=t.method,xs=t.extend({create:Ne({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:Ne({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:Ne({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:Ne({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),$=t.method,ws=t.extend({create:$({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:$({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:$({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:$({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:$({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:$({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:$({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),St=t.method,Gs=t.extend({fail:St({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:St({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:St({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),je=t.method,Cs=t.extend({create:je({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:je({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:je({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:je({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),ce=t.method,As=t.extend({create:ce({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:ce({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:ce({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:ce({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:ce({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),Rs=t.method,ks=t.extend({create:Rs({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),Is=t.method,qs=t.extend({create:Is({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),Ds=t.method,Ns=t.extend({create:Ds({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),js=t.method,Ms=t.extend({create:js({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),Ls=t.method,Us=t.extend({create:Ls({method:"POST",fullPath:"/v1/billing/meter_events"})}),Hs=t.method,Fs=t.extend({create:Hs({method:"POST",fullPath:"/v2/billing/meter_events"})}),B=t.method,zs=t.extend({create:B({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:B({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:B({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:B({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:B({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:B({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:B({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),$s=t.method,Bs=t.extend({create:$s({method:"POST",fullPath:"/v1/terminal/onboarding_links"})}),me=t.method,Vs=t.extend({create:me({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:me({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:me({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:me({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:me({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),Me=t.method,Ks=t.extend({update:Me({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Me({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Me({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Me({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),Le=t.method,Ws=t.extend({create:Le({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Le({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Le({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Le({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),Ue=t.method,Js=t.extend({update:Ue({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Ue({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Ue({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Ue({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),He=t.method,Xs=t.extend({create:He({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:He({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:He({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:He({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),Ys=t.method,Qs=t.extend({create:Ys({method:"POST",fullPath:"/v1/radar/payment_evaluations"})}),Fe=t.method,Zs=t.extend({create:Fe({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Fe({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Fe({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Fe({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),Ot=t.method,eo=t.extend({activate:Ot({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:Ot({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:Ot({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),sr=t.method,to=t.extend({retrieve:sr({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:sr({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),or=t.method,ro=t.extend({retrieve:or({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:or({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),C=t.method,so=t.extend({create:C({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:C({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:C({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:C({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:C({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),bt=t.method,oo=t.extend({presentPaymentMethod:bt({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:bt({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:bt({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})}),ao=t.method,io=t.extend({create:ao({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),ar=t.method,no=t.extend({retrieve:ar({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:ar({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),lo=t.method,ho=t.extend({create:lo({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),ir=t.method,uo=t.extend({retrieve:ir({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:ir({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),co=t.method,mo=t.extend({expire:co({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),ze=t.method,po=t.extend({create:ze({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:ze({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:ze({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:ze({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),xt=t.method,fo=t.extend({create:xt({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:xt({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:xt({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),nr=t.method,Po=t.extend({retrieve:nr({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:nr({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),wt=t.method,vo=t.extend({create:wt({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:wt({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:wt({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),lr=t.method,To=t.extend({retrieve:lr({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:lr({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),$e=t.method,_o=t.extend({create:$e({method:"POST",fullPath:"/v1/apps/secrets"}),list:$e({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:$e({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:$e({method:"GET",fullPath:"/v1/apps/secrets/find"})}),yo=t.method,go=t.extend({create:yo({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),Y=t.method,Eo=t.extend({create:Y({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Y({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Y({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Y({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Y({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Y({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),hr=t.method,So=t.extend({create:hr({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:hr({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),dr=t.method,Oo=t.extend({retrieve:dr({method:"GET",fullPath:"/v1/tax/settings"}),update:dr({method:"POST",fullPath:"/v1/tax/settings"})}),ur=t.method,bo=t.extend({retrieve:ur({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:ur({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),pe=t.method,xo=t.extend({create:pe({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:pe({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:pe({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:pe({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:pe({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),Gt=t.method,wo=t.extend({retrieve:Gt({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Gt({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Gt({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),cr=t.method,Go=t.extend({retrieve:cr({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:cr({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),mr=t.method,Co=t.extend({retrieve:mr({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:mr({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),Ct=t.method,Ao=t.extend({retrieve:Ct({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:Ct({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:Ct({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),Be=t.method,Ro=t.extend({retrieve:Be({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Be({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Be({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Be({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),At=t.method,ko=t.extend({createForceCapture:At({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:At({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:At({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),pr=t.method,Io=t.extend({retrieve:pr({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:pr({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),Ve=t.method,qo=t.extend({create:Ve({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Ve({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Ve({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Ve({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),fe=t.method,Do=t.extend({create:fe({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:fe({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:fe({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:fe({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:fe({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),fr=t.method,No=t.extend({retrieve:fr({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:fr({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),Q=t.method,jo=t.extend({create:Q({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Q({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Q({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Q({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Q({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Q({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),O=t.method,Pr=t.extend({create:O({method:"POST",fullPath:"/v1/accounts"}),retrieve(s,...e){return typeof s=="string"?O({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[s,...e]):(s==null&&[].shift.apply([s,...e]),O({method:"GET",fullPath:"/v1/account"}).apply(this,[s,...e]))},update:O({method:"POST",fullPath:"/v1/accounts/{account}"}),list:O({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:O({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:O({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:O({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:O({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:O({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:O({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:O({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:O({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:O({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:O({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:O({method:"GET",fullPath:"/v1/account"}),retrieveCapability:O({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:O({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:O({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:O({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:O({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:O({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),Mo=t.method,Lo=t.extend({create:Mo({method:"POST",fullPath:"/v1/account_links"})}),Uo=t.method,Ho=t.extend({create:Uo({method:"POST",fullPath:"/v1/account_sessions"})}),Ke=t.method,Fo=t.extend({create:Ke({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Ke({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Ke({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Ke({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),Z=t.method,zo=t.extend({retrieve:Z({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Z({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Z({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Z({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Z({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Z({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),$o=t.method,Bo=t.extend({retrieve:$o({method:"GET",fullPath:"/v1/balance"})}),vr=t.method,Vo=t.extend({retrieve:vr({method:"GET",fullPath:"/v1/balance_settings"}),update:vr({method:"POST",fullPath:"/v1/balance_settings"})}),Tr=t.method,Ko=t.extend({retrieve:Tr({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:Tr({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),ee=t.method,Wo=t.extend({create:ee({method:"POST",fullPath:"/v1/charges"}),retrieve:ee({method:"GET",fullPath:"/v1/charges/{charge}"}),update:ee({method:"POST",fullPath:"/v1/charges/{charge}"}),list:ee({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:ee({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:ee({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),Jo=t.method,Xo=t.extend({retrieve:Jo({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),_r=t.method,Yo=t.extend({retrieve:_r({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:_r({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),Pe=t.method,Qo=t.extend({create:Pe({method:"POST",fullPath:"/v1/coupons"}),retrieve:Pe({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Pe({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Pe({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Pe({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),L=t.method,Zo=t.extend({create:L({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:L({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:L({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:L({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:L({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:L({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:L({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:L({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),ea=t.method,ta=t.extend({create:ea({method:"POST",fullPath:"/v1/customer_sessions"})}),g=t.method,ra=t.extend({create:g({method:"POST",fullPath:"/v1/customers"}),retrieve:g({method:"GET",fullPath:"/v1/customers/{customer}"}),update:g({method:"POST",fullPath:"/v1/customers/{customer}"}),list:g({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:g({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:g({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:g({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:g({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:g({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:g({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:g({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:g({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:g({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:g({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:g({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:g({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:g({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:g({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:g({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:g({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:g({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:g({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:g({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:g({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:g({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:g({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:g({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:g({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),We=t.method,sa=t.extend({retrieve:We({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:We({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:We({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:We({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),yr=t.method,oa=t.extend({create:yr({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(s,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:yr({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),gr=t.method,aa=t.extend({retrieve:gr({method:"GET",fullPath:"/v1/events/{id}"}),list:gr({method:"GET",fullPath:"/v1/events",methodType:"list"})}),Er=t.method,ia=t.extend({retrieve:Er({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:Er({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),Je=t.method,na=t.extend({create:Je({method:"POST",fullPath:"/v1/file_links"}),retrieve:Je({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Je({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Je({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),la=(s,e,o)=>{let r=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();o["Content-Type"]=`multipart/form-data; boundary=${r}`;let a=new TextEncoder,i=new Uint8Array(0),n=a.encode(`\r
`);function h(u){let p=i,l=u instanceof Uint8Array?u:new Uint8Array(a.encode(u));(i=new Uint8Array(p.length+l.length+2)).set(p),i.set(l,p.length),i.set(n,i.length-2)}function d(u){return`"${u.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let m=function(u){let p={},l=(c,P)=>{Object.entries(c).forEach(([E,f])=>{let v=P?`${P}[${E}]`:E;if(function(_){let y=typeof _;return(y==="function"||y==="object")&&!!_}(f)){if(!(f instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(f,"data"))return l(f,v);p[v]=f}else p[v]=String(f)})};return l(u,null),p}(e);for(let u in m){if(!Object.prototype.hasOwnProperty.call(m,u))continue;let p=m[u];h(`--${r}`),Object.prototype.hasOwnProperty.call(p,"data")?(h(`Content-Disposition: form-data; name=${d(u)}; filename=${d(p.name||"blob")}`),h(`Content-Type: ${p.type||"application/octet-stream"}`),h(""),h(p.data)):(h(`Content-Disposition: form-data; name=${d(u)}`),h(""),h(p))}return h(`--${r}--`),i},Rt=t.method,ha=t.extend({create:Rt({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:Rt({method:"GET",fullPath:"/v1/files/{file}"}),list:Rt({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:function(s,e,o,r){if(e=e||{},s!=="POST")return r(null,Ce(e));this._stripe._platformFunctions.tryBufferData(e).then(a=>r(null,la(s,a,o))).catch(a=>r(a,null))}}),ve=t.method,da=t.extend({create:ve({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:ve({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:ve({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:ve({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:ve({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),Sr=t.method,ua=t.extend({retrieve:Sr({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:Sr({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),Xe=t.method,ca=t.extend({retrieve:Xe({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Xe({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Xe({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Xe({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),w=t.method,ma=t.extend({create:w({method:"POST",fullPath:"/v1/invoices"}),retrieve:w({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:w({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:w({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:w({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:w({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:w({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:w({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:w({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:w({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:w({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:w({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:w({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:w({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:w({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:w({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:w({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:w({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),pa=t.method,fa=t.extend({retrieve:pa({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),Or=t.method,kt="connect.stripe.com",Pa=t.extend({basePath:"/",authorizeUrl(s,e){s=s||{};let o="oauth/authorize";return(e=e||{}).express&&(o=`express/${o}`),s.response_type||(s.response_type="code"),s.client_id||(s.client_id=this._stripe.getClientId()),s.scope||(s.scope="read_write"),`https://${kt}/${o}?${Ce(s)}`},token:Or({method:"POST",path:"oauth/token",host:kt}),deauthorize(s,...e){return s.client_id||(s.client_id=this._stripe.getClientId()),Or({method:"POST",path:"oauth/deauthorize",host:kt}).apply(this,[s,...e])}}),br=t.method,va=t.extend({retrieve:br({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:br({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})}),R=t.method,Ta=t.extend({create:R({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:R({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:R({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:R({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:R({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:R({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:R({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:R({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:R({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:R({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:R({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:R({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),Te=t.method,_a=t.extend({create:Te({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Te({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Te({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Te({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Te({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),Ye=t.method,ya=t.extend({create:Ye({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Ye({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Ye({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Ye({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),_e=t.method,ga=t.extend({create:_e({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:_e({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:_e({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:_e({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:_e({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),te=t.method,Ea=t.extend({create:te({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:te({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:te({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:te({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:te({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:te({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),U=t.method,Sa=t.extend({retrieve:U({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:U({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:U({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:U({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:U({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:U({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:U({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:U({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})}),re=t.method,Oa=t.extend({create:re({method:"POST",fullPath:"/v1/payouts"}),retrieve:re({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:re({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:re({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:re({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:re({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),ye=t.method,ba=t.extend({create:ye({method:"POST",fullPath:"/v1/plans"}),retrieve:ye({method:"GET",fullPath:"/v1/plans/{plan}"}),update:ye({method:"POST",fullPath:"/v1/plans/{plan}"}),list:ye({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:ye({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),ge=t.method,xa=t.extend({create:ge({method:"POST",fullPath:"/v1/prices"}),retrieve:ge({method:"GET",fullPath:"/v1/prices/{price}"}),update:ge({method:"POST",fullPath:"/v1/prices/{price}"}),list:ge({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:ge({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),I=t.method,wa=t.extend({create:I({method:"POST",fullPath:"/v1/products"}),retrieve:I({method:"GET",fullPath:"/v1/products/{id}"}),update:I({method:"POST",fullPath:"/v1/products/{id}"}),list:I({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:I({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:I({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:I({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:I({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:I({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:I({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),Qe=t.method,Ga=t.extend({create:Qe({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Qe({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Qe({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Qe({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),q=t.method,Ca=t.extend({create:q({method:"POST",fullPath:"/v1/quotes"}),retrieve:q({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:q({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:q({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:q({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:q({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:q({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:q({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:q({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:q({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),Ee=t.method,Aa=t.extend({create:Ee({method:"POST",fullPath:"/v1/refunds"}),retrieve:Ee({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Ee({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Ee({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Ee({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),It=t.method,Ra=t.extend({retrieve:It({method:"GET",fullPath:"/v1/reviews/{review}"}),list:It({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:It({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),ka=t.method,Ia=t.extend({list:ka({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),V=t.method,qa=t.extend({create:V({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:V({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:V({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:V({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:V({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:V({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:V({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),Ze=t.method,Da=t.extend({create:Ze({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Ze({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Ze({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Ze({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),Se=t.method,Na=t.extend({create:Se({method:"POST",fullPath:"/v1/sources"}),retrieve:Se({method:"GET",fullPath:"/v1/sources/{source}"}),update:Se({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Se({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Se({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),Oe=t.method,ja=t.extend({create:Oe({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:Oe({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:Oe({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:Oe({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:Oe({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),se=t.method,Ma=t.extend({create:se({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:se({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:se({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:se({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:se({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:se({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),N=t.method,La=t.extend({create:N({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:N({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:N({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:N({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:N({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:N({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:N({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:N({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:N({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),xr=t.method,Ua=t.extend({retrieve:xr({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:xr({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),et=t.method,Ha=t.extend({create:et({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:et({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:et({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:et({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),tt=t.method,Fa=t.extend({create:tt({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:tt({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:tt({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:tt({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),wr=t.method,za=t.extend({create:wr({method:"POST",fullPath:"/v1/tokens"}),retrieve:wr({method:"GET",fullPath:"/v1/tokens/{token}"})}),be=t.method,$a=t.extend({create:be({method:"POST",fullPath:"/v1/topups"}),retrieve:be({method:"GET",fullPath:"/v1/topups/{topup}"}),update:be({method:"POST",fullPath:"/v1/topups/{topup}"}),list:be({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:be({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),H=t.method,Ba=t.extend({create:H({method:"POST",fullPath:"/v1/transfers"}),retrieve:H({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:H({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:H({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:H({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:H({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:H({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:H({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),xe=t.method,Va=t.extend({create:xe({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:xe({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:xe({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:xe({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:xe({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Ka=S("apps",{Secrets:_o}),Wa=S("billing",{Alerts:Zr,CreditBalanceSummary:fs,CreditBalanceTransactions:Ps,CreditGrants:vs,MeterEventAdjustments:ks,MeterEvents:Us,Meters:zs}),Ja=S("billingPortal",{Configurations:ls,Sessions:go}),Xa=S("checkout",{Sessions:Eo}),Ya=S("climate",{Orders:Vs,Products:ro,Suppliers:bo}),Qa=S("entitlements",{ActiveEntitlements:Qr,Features:xs}),Za=S("financialConnections",{Accounts:Wr,Sessions:So,Transactions:Co}),ei=S("forwarding",{Requests:vo}),ti=S("identity",{VerificationReports:No,VerificationSessions:jo}),ri=S("issuing",{Authorizations:rs,Cardholders:as,Cards:is,Disputes:Es,PersonalizationDesigns:Zs,PhysicalBundles:to,Tokens:wo,Transactions:Ao}),si=S("radar",{EarlyFraudWarnings:Ss,PaymentEvaluations:Qs,ValueListItems:qo,ValueLists:Do}),oi=S("reporting",{ReportRuns:fo,ReportTypes:Po}),ai=S("sigma",{ScheduledQueryRuns:To}),ii=S("tax",{Associations:ts,Calculations:os,Registrations:po,Settings:Oo,Transactions:Ro}),ni=S("terminal",{Configurations:hs,ConnectionTokens:ms,Locations:As,OnboardingLinks:Bs,Readers:so}),li=S("testHelpers",{ConfirmationTokens:us,Customers:ys,Refunds:mo,TestClocks:xo,Issuing:S("issuing",{Authorizations:ss,Cards:ns,PersonalizationDesigns:eo,Transactions:ko}),Terminal:S("terminal",{Readers:oo}),Treasury:S("treasury",{InboundTransfers:Gs,OutboundPayments:Ks,OutboundTransfers:Js,ReceivedCredits:io,ReceivedDebits:ho})}),hi=S("treasury",{CreditReversals:Ts,DebitReversals:gs,FinancialAccounts:ws,InboundTransfers:Cs,OutboundPayments:Ws,OutboundTransfers:Xs,ReceivedCredits:no,ReceivedDebits:uo,TransactionEntries:Go,Transactions:Io}),di=S("v2",{Billing:S("billing",{MeterEventAdjustments:qs,MeterEventSession:Ns,MeterEventStream:Ms,MeterEvents:Fs}),Core:S("core",{AccountLinks:Vr,AccountTokens:Kr,Accounts:Yr,EventDestinations:Os,Events:bs})}),Gr="api.stripe.com",Cr="/v1/",ui=["name","version","url","partner_id"],Ar=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],ci=s=>new ae(s,t.MAX_BUFFERED_REQUEST_METRICS),mi=function(s,e=ci){function o(r,a={}){if(!(this instanceof o))return new o(r,a);let i=this._getPropsFromConfig(a);this._platformFunctions=s,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=o.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let n=i.httpAgent||null;this._api={host:i.host||Gr,port:i.port||"443",protocol:i.protocol||"https",basePath:Cr,version:i.apiVersion||Tt,timeout:lt("timeout",i.timeout,8e4),maxNetworkRetries:lt("maxNetworkRetries",i.maxNetworkRetries,2),agent:n,httpClient:i.httpClient||(n?this._platformFunctions.createNodeHttpClient(n):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:i.stripeAccount||null,stripeContext:i.stripeContext||null};let h=i.typescript||!1;h!==o.USER_AGENT.typescript&&(o.USER_AGENT.typescript=h),i.appInfo&&this._setAppInfo(i.appInfo),this._prepResources(),this._setAuthenticator(r,i.authenticator),this.errors=Ge,this.webhooks=o.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=i.telemetry!==!1,this._requestSender=e(this),this.StripeResource=o.StripeResource}return o.PACKAGE_VERSION="20.3.1",o.API_VERSION=Tt,o.USER_AGENT=Object.assign({bindings_version:o.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}),o.StripeResource=t,o.StripeContext=W,o.resources=K,o.HttpClient=A,o.HttpClientResponse=Lt,o.CryptoProvider=Ut,o.webhooks=function(r){let a={DEFAULT_TOLERANCE:300,signature:null,constructEvent(l,c,P,E,f,v){try{if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(l,c,P,E||a.DEFAULT_TOLERANCE,f,v)}catch(_){throw _ instanceof Ht&&(_.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),_}return l instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(l)):JSON.parse(l)},async constructEventAsync(l,c,P,E,f,v){if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(l,c,P,E||a.DEFAULT_TOLERANCE,f,v),l instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(l)):JSON.parse(l)},generateTestHeaderString:function(l){let c=p(l),P=c.signature||c.cryptoProvider.computeHMACSignature(c.payloadString,c.secret);return c.generateHeaderString(P)},generateTestHeaderStringAsync:async function(l){let c=p(l),P=c.signature||await c.cryptoProvider.computeHMACSignatureAsync(c.payloadString,c.secret);return c.generateHeaderString(P)}},i={EXPECTED_SCHEME:"v1",verifyHeader(l,c,P,E,f,v){let{decodedHeader:_,decodedPayload:y,details:T,suspectPayloadType:x}=h(l,c,this.EXPECTED_SCHEME),b=/\s/.test(P),k=(f=f||u()).computeHMACSignature(n(y,T),P);return d(y,_,T,k,E,x,b,v),!0},async verifyHeaderAsync(l,c,P,E,f,v){let{decodedHeader:_,decodedPayload:y,details:T,suspectPayloadType:x}=h(l,c,this.EXPECTED_SCHEME),b=/\s/.test(P);f=f||u();let k=await f.computeHMACSignatureAsync(n(y,T),P);return d(y,_,T,k,E,x,b,v)}};function n(l,c){return`${c.timestamp}.${l}`}function h(l,c,P){if(!l)throw new j(c,l,{message:"No webhook payload was provided."});let E=typeof l!="string"&&!(l instanceof Uint8Array),f=new TextDecoder("utf8"),v=l instanceof Uint8Array?f.decode(l):l;if(Array.isArray(c))throw Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(c==null||c=="")throw new j(c,l,{message:"No stripe-signature header value was provided."});let _=c instanceof Uint8Array?f.decode(c):c,y=typeof _!="string"?null:_.split(",").reduce((T,x)=>{let b=x.split("=");return b[0]==="t"&&(T.timestamp=parseInt(b[1],10)),b[0]===P&&T.signatures.push(b[1]),T},{timestamp:-1,signatures:[]});if(!y||y.timestamp===-1)throw new j(_,v,{message:"Unable to extract timestamp and signatures from header"});if(!y.signatures.length)throw new j(_,v,{message:"No signatures found with expected scheme"});return{decodedPayload:v,decodedHeader:_,details:y,suspectPayloadType:E}}function d(l,c,P,E,f,v,_,y){let T=!!P.signatures.filter(r.secureCompare.bind(r,E)).length,x=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,b=_?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!T)throw v?new j(c,l,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+x+`
`+b}):new j(c,l,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+x+`
`+b});let k=Math.floor((typeof y=="number"?y:Date.now())/1e3)-P.timestamp;if(f>0&&k>f)throw new j(c,l,{message:"Timestamp outside the tolerance zone"});return!0}let m=null;function u(){return m||(m=r.createDefaultCryptoProvider()),m}function p(l){if(!l)throw new G({message:"Options are required"});let c=Math.floor(l.timestamp)||Math.floor(Date.now()/1e3),P=l.scheme||i.EXPECTED_SCHEME,E=l.cryptoProvider||u(),f=`${c}.${l.payload}`;return Object.assign(Object.assign({},l),{timestamp:c,scheme:P,cryptoProvider:E,payloadString:f,generateHeaderString:v=>`t=${c},${P}=${v}`})}return a.signature=i,a}(s),o.errors=Ge,o.createNodeHttpClient=s.createNodeHttpClient,o.createFetchHttpClient=s.createFetchHttpClient,o.createNodeCryptoProvider=s.createNodeCryptoProvider,o.createSubtleCryptoProvider=s.createSubtleCryptoProvider,o.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(r,a,i,n){return this._requestSender._rawRequest(r,a,i,n)},_setAuthenticator(r,a){if(r&&a)throw Error("Can't specify both apiKey and authenticator");if(!r&&!a)throw Error("Neither apiKey nor config.authenticator provided");this._authenticator=r?ht(r):a},_setAppInfo(r){if(r&&typeof r!="object")throw Error("AppInfo must be an object.");if(r&&!r.name)throw Error("AppInfo.name is required");r=r||{},this._appInfo=ui.reduce((a,i)=>(typeof r[i]=="string"&&((a=a||{})[i]=r[i]),a),{})},_setApiField(r,a){this._api[r]=a},getApiField(r){return this._api[r]},setClientId(r){this._clientId=r},getClientId(){return this._clientId},getConstant:r=>{switch(r){case"DEFAULT_HOST":return Gr;case"DEFAULT_PORT":return"443";case"DEFAULT_BASE_PATH":return Cr;case"DEFAULT_API_VERSION":return Tt;case"DEFAULT_TIMEOUT":return 8e4;case"MAX_NETWORK_RETRY_DELAY_SEC":return 5;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return .5}return o[r]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(r,a,i){let n=lt(r,a,i);this._setApiField(r,n)},getMaxNetworkRetryDelay:()=>5,getInitialNetworkRetryDelay:()=>.5,getClientUserAgent(r){return this.getClientUserAgentSeeded(o.USER_AGENT,r)},getClientUserAgentSeeded(r,a){this._platformFunctions.getUname().then(i=>{var n;let h={};for(let m in r)Object.prototype.hasOwnProperty.call(r,m)&&(h[m]=encodeURIComponent((n=r[m])!==null&&n!==void 0?n:"null"));h.uname=encodeURIComponent(i||"UNKNOWN");let d=this.getApiField("httpClient");d&&(h.httplib=encodeURIComponent(d.getClientName())),this._appInfo&&(h.application=this._appInfo),a(JSON.stringify(h))})},getAppInfoAsString(){if(!this._appInfo)return"";let r=this._appInfo.name;return this._appInfo.version&&(r+=`/${this._appInfo.version}`),this._appInfo.url&&(r+=` (${this._appInfo.url})`),r},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let r in K)Object.prototype.hasOwnProperty.call(K,r)&&(this[r==="OAuth"?"oauth":r[0].toLowerCase()+r.substring(1)]=new K[r](this))},_getPropsFromConfig(r){if(!r)return{};let a=typeof r=="string";if(!(r===Object(r)&&!Array.isArray(r))&&!a)throw Error("Config must either be an object or a string");if(a)return{apiVersion:r};if(Object.keys(r).filter(i=>!Ar.includes(i)).length>0)throw Error(`Config object may only contain the following: ${Ar.join(", ")}`);return r},parseEventNotification(r,a,i,n,h,d){let m=this.webhooks.constructEvent(r,a,i,n,h,d);return m.context&&(m.context=W.parse(m.context)),m.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${m.id}`,void 0,{stripeContext:m.context},["fetch_event"]),m.fetchRelatedObject=()=>m.related_object?this._requestSender._rawRequest("GET",m.related_object.url,void 0,{stripeContext:m.context},["fetch_related_object"]):Promise.resolve(null),m}},o}(new Lr)},kr);export{vi as __getNamedExports};
